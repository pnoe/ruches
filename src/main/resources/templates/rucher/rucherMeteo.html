<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="include :: common_header(~{::script},~{::style},~{::link})">
<script th:replace="include :: jsChart"></script>
<script th:src="@{/js/ruches/rucherMeteo.js}"></script>
<script th:inline="javascript">
	const longitude = [[${rucher.longitude}]];
	const latitude = [[${rucher.latitude}]];
	const openweathermapKey = [[${openweathermapKey}]];
	const urlPrefix='https://api.openweathermap.org/data/2.5/onecall';
	$().ready(function() {
		rucherMeteo();
	});
</script>
<style>
	th {background-color:aliceblue;}
	.wi {font-size: 20px;}
</style>
<link rel="stylesheet" type="text/css" media="all"
	th:href="@{/css/weather-icons.css}" />
<link rel="stylesheet" type="text/css" media="all"
	th:href="@{/css/weather-icons-wind.css}" />	
</head>
<body>
	<nav th:replace="include :: navbar"></nav>
	<br />
	<br />
	<br />
	<div class="container-fluid">
		<div class="row">
			<div class="col">
				<h1 class="item">
					<th:block th:text="#{meteo}+' '"></th:block>
					<a th:href="@{'/rucher/'+${rucher.id}}"
						th:text="#{rucher} + ' ' + ${rucher.nom}"></a>
				</h1>
			</div>
		</div>
	</div>
	<div class="container-fluid" id="accordion">
		<h1 class="item" th:text="#{aujourdhui}"></h1>
		<div>
		<table class="table">
			<thead>
				<tr>
					<th th:text="#{date}"></th>
					<th th:text="#{temperature}"></th>
					<th th:text="#{humidite}"></th>
					<th th:text="#{rosee}"></th>
					<th th:text="#{pression}"></th>
				</tr>
			</thead>
			<tbody>
				<tr>
				    <td id="date"></td>
				    <td id="temperature"></td>
				    <td id="humidite"></td>
					<td id="rosee"></td>
					<td id="pression"></td>
				</tr>
			</tbody>
		</table>	
			<table class="table">
				<thead>
					<tr>
						<th th:text="#{tempRessentie}"></th>
						<th th:text="#{uvi}"></th>
						<th th:text="#{ventVitesse}"></th>
						<th th:text="#{ventDirection}"></th>
						<th th:text="#{ventRafales}"></th>	
					</tr>
				</thead>
				<tbody>
					<tr>
						<td id="tempRessentie"></td>
						<td id="uvi"></td>
						<td id="ventVitesse"></td>
						<td id="ventDirection"></td>
						<td id="ventRafales"></td>	
					</tr>
				</tbody>
			</table>
			<table class="table">
				<thead>
					<tr>
						<th th:text="#{description}"></th>
						<th th:text="#{nuages}"></th>
						<th th:text="#{visibilite}"></th>
						<th th:text="#{pluieVol1h}"></th>
						<th th:text="#{neigeVol1h}"></th>
						
					</tr>
				</thead>
				<tbody>
					<tr>
						<td id="description"></td>
					    <td id="nuages"></td>
						<td id="visibilite"></td>
						<td id="pluieVol1h"></td>
						<td id="neigeVol1h"></td>
					</tr>
				</tbody>
			</table>		
			<table class="table">
				<thead>
					<tr>	
						<th th:text="#{leverSoleil}"></th>
						<th th:text="#{coucherSoleil}"></th>
						<th th:text="#{leverLune}"></th>
						<th th:text="#{coucherLune}"></th>
						<th th:text="#{phaseLune}"></th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td id="leverSoleil"></td>
						<td id="coucherSoleil"></td>
						<td id="leverLune"></td>
						<td id="coucherLune"></td>
						<td id="phaseLune"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<h1 class="item" th:text="#{TempPress}"></h1>
		<canvas id="tempGraphe"></canvas>
		<h1 class="item" th:text="#{previsions}"></h1>
		<div>
			<table class="table table-bordered">
				<thead>
					<tr>	
						<th th:text="#{date}"></th>
						<th th:text="#{tempMin}"></th>
						<th th:text="#{tempMax}"></th>
						<th th:text="#{nuages}"></th>
						<th th:text="#{pluie}"></th>
						<th th:text="#{proba}"></th>
						<th th:text="#{leverSoleil}"></th>
						<th th:text="#{coucherSoleil}"></th>
						<th th:text="#{leverLune}"></th>
						<th th:text="#{coucherLune}"></th>
						<th th:text="#{phaseLune}"></th>
					</tr>
				</thead>
				<tbody id="previsions">
				</tbody>
			</table>
		</div>
		<h1 class="item" th:text="#{historique}"></h1>
		<div>
			<table class="table table-bordered">
				<thead>
					<tr>	
						<th th:text="#{date}"></th>
						<th th:text="#{temperature}"></th>
						<th th:text="#{nuages}"></th>
						<th th:text="#{ventVitesse}"></th>
						<th th:text="#{ventDirection}"></th>
					</tr>
				</thead>
				<tbody id="historique">
				</tbody>
			</table>
		</div>
	</div>
	<footer th:replace="include::footer"></footer>
</body>
</html>